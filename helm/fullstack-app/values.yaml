# Global values
global:
  namespace: ""
  environment: ""

# Frontend configuration
frontend:
  name: frontend
  replicaCount: 2

  image:
    repository: vinaymanjunath30/frontend-app
    tag: 9
    pullPolicy: IfNotPresent

  service:
    type: ClusterIP
    port: 80

  resources:
    requests:
      cpu: "100m"
      memory: "128Mi"
    limits:
      cpu: "250m"
      memory: "256Mi"

# Backend configuration
backend:
  name: backend
  replicaCount: 2

  image:
    repository: vinaymanjunath30/backend-app
    tag: v1.0.12
    pullPolicy: IfNotPresent

  service:
    type: ClusterIP
    port: 3000

  env:
    DB_HOST: mysql-db
    DB_PORT: "3306"
    DB_NAME: testdb
    DB_USER: appuser
    DB_PASSWORD: apppassword

  resources:
    requests:
      cpu: "150m"
      memory: "256Mi"
    limits:
      cpu: "300m"
      memory: "512Mi"

# MySQL configuration
mysql:
  name: mysql-db
  replicaCount: 1

  image:
    repository: mysql
    tag: "8.0"
    pullPolicy: IfNotPresent

  service:
    port: 3306

  auth:
    rootPassword: pass123
    database: testdb
    username: appuser
    password: apppassword

  persistence:
    enabled: true
    size: 5Gi

  resources:
    requests:
      cpu: "100m"
      memory: "256Mi"
    limits:
      cpu: "300m"
      memory: "512Mi"

# Ingress configuration
ingress:
  enabled: true
  className: nginx
  enableCatchAll: true
  hosts:
    - host: fullstack.local
      paths:
        - path: /
          pathType: Prefix
          service:
            name: frontend
            port: 80
        - path: /api
          pathType: Prefix
          service:
            name: backend
            port: 3000
  catchAll:
    paths:
      - path: /
        pathType: Prefix
        service:
          name: frontend
          port: 80
      - path: /api
        pathType: Prefix
        service:
          name: backend
          port: 3000